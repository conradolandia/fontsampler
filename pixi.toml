[workspace]
authors = ["conradolandia <andresconrado@gmail.com>"]
channels = ["conda-forge"]
name = "fontsampler"
platforms = ["linux-64"]
version = "0.1.0"

[tasks]
build = "pyinstaller fontsampler.spec"
build-clean = "pyinstaller --noconfirm --clean fontsampler.spec"
build-debug = "pyinstaller --debug all fontsampler.spec"
build-simple = "pyinstaller --onefile --name fontsampler fontsampler.py"
clean = "rm -rf dist/ build/"
check-binary = "test -f dist/fontsampler && echo 'Binary found' || echo 'No binary found'"
copy-binary = "cp -fv dist/fontsampler $HOME/.local/bin/fontsampler"
install-interactive = {cmd = "bash -c 'echo \"No binary found. Choose build type:\"; echo \"1) Standard build (pixi run build)\"; echo \"2) Simple build (pixi run build-simple)\"; echo \"3) Clean build (pixi run build-clean)\"; echo \"4) Cancel\"; read -p \"Enter choice (1-4): \" choice; case $choice in 1) pixi run build;; 2) pixi run build-simple;; 3) pixi run build-clean;; 4) echo \"Installation cancelled\"; exit 0;; *) echo \"Invalid choice\"; exit 1;; esac'"}
install = {cmd = "bash -c 'if [ -f dist/fontsampler ]; then echo \"Binary found, installing...\"; pixi run copy-binary; else pixi run install-interactive && pixi run copy-binary; fi'"}

[dependencies]
fonttools = ">=4.59.0,<5"
pycairo = ">=1.28.0,<2"
pyinstaller = ">=6.8.0,<7"
weasyprint = ">=62.0,<63"
pygobject = ">=3.48.0,<4"
cairocffi = ">=1.6.0,<2"
